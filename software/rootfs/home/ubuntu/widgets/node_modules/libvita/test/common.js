var util = require('util');

module.exports.invert = function(done) {
	return function(err, data) {
		if (err) return done();

		done(new Error(util.format("An error should be returned, got %d instead.", data)));
	}
}

module.exports.channels = function(startChannel, stopChannel) {
	var func = arguments[arguments.length-1];
	var args = Array.prototype.slice.call(arguments, 2, -1);
	
	for(var i = startChannel; i <= stopChannel; i++) {
		(function(i) {
			var params = args.slice(0, 1).concat(i, args.slice(1));
			it(util.format('should [%s] with [%s].', func.name, params), function(done) {
				func.apply(this.dev, params.concat(done));
			});
		})(i);
	}
}
