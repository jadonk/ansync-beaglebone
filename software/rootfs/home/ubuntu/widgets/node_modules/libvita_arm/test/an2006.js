var assert = require('assert');
var addon = require('../index.js');

describe('AN2006', function() {
	before(function() {
		this.dev = addon.open('usb:an2006'); 
	});
	after(function() {
		this.dev.close();
	});
	describe('#setProperty()', function() {
		it('should set property', function(done) {
			this.dev.setProperty(0, 0, 0, 0x0000, done);
		})
	});

	describe('#getInputs()', function() {
		it('should return the inputs', function(done) {
			this.dev.getInputs(0, 0, done);
		});
	});
	
	describe('#setOutputs()', function() {
		it('should set the outputs without error', function(done) {
			var dev = this.dev;
			dev.setProperty(0, 0, 99, 0x0000, function(err, data) {
				if (err) done(err);

				dev.setOutputs(0, 0, 0xBEEF, done);
			});
		});
	});
});