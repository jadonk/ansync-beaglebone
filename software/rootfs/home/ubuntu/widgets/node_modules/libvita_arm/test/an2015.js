var assert = require('assert');
var common = require('./common');

var addon = require('../index.js');

describe('AN2015', function() {
	before(function() {
		this.dev = addon.open('usb:CLASS_AN2015'); 
	});
	after(function() {
		this.dev.close();
	});
	describe('#setProperty()', function() {
	});
	describe('#getProperty()', function() {
		it('should return the voltage.', function(done) {
			this.dev.requestProperty(0, 0, 1, done);
		});
		it('should return the temp.', function(done) {
			this.dev.requestProperty(0, 0, 2, done);
		});
		it('should return an error', function(done) {
			this.dev.requestProperty(0, 0, 3, common.invert(done));
		});
	});

	describe('#getInputs()', function() {
		it('should return the inputs', function(done) {
			this.dev.getInputs(1, 0, done);
		});
		it('should return an error', function(done) {
			this.dev.getInputs(1, 99, common.invert(done));
		});
	});
	
	describe('#setOutputs()', function() {
		common.channels(0, 0, 1, 0xBEEF, addon.prototype.setOutputs);
	});
});